{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Eatme/Desktop/Company/early-web/my-app/src/components/DisplayPost.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from './Button';\nimport ReactDOM from 'react-dom';\nimport StreamVid from './StreamVid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DisplayPost = ({\n  content,\n  back,\n  select\n}) => {\n  _s();\n\n  // const [selected, setSelected] = useState(false)\n  const [elements, setElements] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [prevData, setPrevData] = useState({}); //const body = React.createElement('p', {}, 'Lorem ipsum dolor sit amet');\n  //idk if this is the best way to do this :/\n\n  const loadPost = reset => {\n    if (reset) {\n      console.log(\"parsing dynamic content\");\n      var newElements = [];\n      var mainDiv = document.getElementsByClassName(\"post-content\")[0]; //var test = document.createElement(\"p\");\n      //test.innerText = \"test\";   \n\n      var lines = content.data.split(\"|\");\n\n      for (var i = 0; i < lines.length; i++) {\n        if (lines[i].charAt(1) === \"p\") {\n          var pElement = document.createElement(\"p\");\n          pElement.innerText = lines[i].substr(3, lines[i].length - 6);\n          newElements.push(pElement);\n        } else if (lines[i].charAt(1) === \"h\") {\n          var pElement = document.createElement(\"h2\");\n          pElement.innerText = lines[i].substr(3, lines[i].length - 6);\n          newElements.push(pElement);\n        } else if (lines[i].charAt(1) === \"v\") {\n          const vidElement = /*#__PURE__*/_jsxDEV(StreamVid, {\n            url: lines[i].substr(3, lines[i].length - 6)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 39\n          }, this);\n\n          newElements.push(vidElement);\n        }\n      } // look into react dom rendering and react elements\n      //const body = React.createElement('p', {}, 'Lorem ipsum dolor sit amet');\n      //mainDiv.appendChild(test);\n      //newElements.push(test)\n\n\n      setElements(newElements);\n      setIsLoaded(true);\n      setPrevData(content);\n    } else {\n      var mainDiv = document.getElementsByClassName(\"post-content\")[0];\n      var vidCount = 0;\n\n      for (var i = 0; i < elements.length; i++) {\n        if (elements[i] instanceof HTMLElement) {\n          mainDiv.appendChild(elements[i]);\n        } else {\n          var divElement = document.createElement(\"div\");\n          divElement.className = \"hls-video\";\n          mainDiv.appendChild(divElement);\n          ReactDOM.render(elements[i], document.getElementsByClassName(\"hls-video\")[vidCount]);\n          vidCount++;\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (select === true) {\n      if (prevData.data != content.data) {\n        // console.log('data changed')\n        loadPost(true);\n      } else {\n        loadPost(false);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: select && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-content\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"green\",\n        text: \"back\",\n        onClick: () => back(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 24\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DisplayPost, \"Owq+hqZuQ8+rCT4RdH+n3oYqzPM=\");\n\n_c = DisplayPost;\nexport default DisplayPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayPost\");","map":{"version":3,"sources":["/mnt/c/Users/Eatme/Desktop/Company/early-web/my-app/src/components/DisplayPost.js"],"names":["useState","useEffect","PropTypes","Button","ReactDOM","StreamVid","DisplayPost","content","back","select","elements","setElements","isLoaded","setIsLoaded","prevData","setPrevData","loadPost","reset","console","log","newElements","mainDiv","document","getElementsByClassName","lines","data","split","i","length","charAt","pElement","createElement","innerText","substr","push","vidElement","vidCount","HTMLElement","appendChild","divElement","className","render"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from './Button'\r\nimport ReactDOM from 'react-dom';\r\nimport StreamVid from './StreamVid'\r\n\r\nconst DisplayPost = ({ content, back, select }) => {\r\n    // const [selected, setSelected] = useState(false)\r\n    const [elements, setElements] = useState([])\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n    const [prevData, setPrevData] = useState({})\r\n    //const body = React.createElement('p', {}, 'Lorem ipsum dolor sit amet');\r\n    //idk if this is the best way to do this :/\r\n    const loadPost = (reset) => {\r\n        if(reset){\r\n            console.log(\"parsing dynamic content\");\r\n            var newElements = []\r\n            var mainDiv = document.getElementsByClassName(\"post-content\")[0];\r\n            //var test = document.createElement(\"p\");\r\n            //test.innerText = \"test\";   \r\n            var lines = content.data.split(\"|\")\r\n            for(var i = 0; i < lines.length; i++){\r\n                if(lines[i].charAt(1)===\"p\"){\r\n                    var pElement = document.createElement(\"p\");\r\n                    pElement.innerText = lines[i].substr(3,lines[i].length-6);\r\n                    newElements.push(pElement)\r\n                }\r\n                else if(lines[i].charAt(1)===\"h\"){\r\n                    var pElement = document.createElement(\"h2\");\r\n                    pElement.innerText = lines[i].substr(3,lines[i].length-6);\r\n                    newElements.push(pElement)\r\n                }\r\n                else if(lines[i].charAt(1)===\"v\"){\r\n                    const vidElement= <StreamVid url={lines[i].substr(3,lines[i].length-6)} />;\r\n                    newElements.push(vidElement)\r\n                }\r\n            }\r\n\r\n            // look into react dom rendering and react elements\r\n            //const body = React.createElement('p', {}, 'Lorem ipsum dolor sit amet');\r\n            //mainDiv.appendChild(test);\r\n            //newElements.push(test)\r\n            setElements(newElements)\r\n            setIsLoaded(true)\r\n            setPrevData(content)\r\n\r\n        }\r\n        else{\r\n            var mainDiv = document.getElementsByClassName(\"post-content\")[0];\r\n            var vidCount = 0\r\n            for(var i = 0; i < elements.length; i++){\r\n                if(elements[i] instanceof HTMLElement){\r\n                    mainDiv.appendChild(elements[i])\r\n                }\r\n                else{\r\n                    var divElement = document.createElement(\"div\");\r\n                    divElement.className = \"hls-video\"\r\n                    mainDiv.appendChild(divElement)\r\n                    ReactDOM.render(\r\n                        elements[i],\r\n                        document.getElementsByClassName(\"hls-video\")[vidCount]\r\n                      );\r\n                      vidCount++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(select === true){\r\n\r\n            if(prevData.data != content.data){\r\n                // console.log('data changed')\r\n                loadPost(true)\r\n            }\r\n            else{\r\n                loadPost(false)\r\n            }\r\n        }\r\n      });\r\n\r\n    return (\r\n        <div>\r\n            {select && <div className=\"post-content\">\r\n                <Button color='green' text={\"back\"} onClick={() => back(false)}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DisplayPost\r\n"]},"metadata":{},"sourceType":"module"}