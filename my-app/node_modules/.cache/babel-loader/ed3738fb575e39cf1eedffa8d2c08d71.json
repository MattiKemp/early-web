{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect } from 'react';\nimport Hls from 'hls.js';\n\nfunction ReactHlsPlayer(_a) {\n  var hlsConfig = _a.hlsConfig,\n      _b = _a.playerRef,\n      playerRef = _b === void 0 ? React.createRef() : _b,\n      src = _a.src,\n      autoPlay = _a.autoPlay,\n      props = __rest(_a, [\"hlsConfig\", \"playerRef\", \"src\", \"autoPlay\"]);\n\n  useEffect(function () {\n    var hls;\n\n    function _initPlayer() {\n      if (hls != null) {\n        hls.destroy();\n      }\n\n      var newHls = new Hls(__assign({\n        enableWorker: false\n      }, hlsConfig));\n\n      if (playerRef.current != null) {\n        newHls.attachMedia(playerRef.current);\n      }\n\n      newHls.on(Hls.Events.MEDIA_ATTACHED, function () {\n        newHls.loadSource(src);\n        newHls.on(Hls.Events.MANIFEST_PARSED, function () {\n          var _a;\n\n          if (autoPlay) {\n            (_a = playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) === null || _a === void 0 ? void 0 : _a.play().catch(function () {\n              return console.log('Unable to autoplay prior to user interaction with the dom.');\n            });\n          }\n        });\n      });\n      newHls.on(Hls.Events.ERROR, function (event, data) {\n        if (data.fatal) {\n          switch (data.type) {\n            case Hls.ErrorTypes.NETWORK_ERROR:\n              newHls.startLoad();\n              break;\n\n            case Hls.ErrorTypes.MEDIA_ERROR:\n              newHls.recoverMediaError();\n              break;\n\n            default:\n              _initPlayer();\n\n              break;\n          }\n        }\n      });\n      hls = newHls;\n    }\n\n    if (Hls.isSupported()) {\n      _initPlayer();\n    }\n\n    return function () {\n      if (hls != null) {\n        hls.destroy();\n      }\n    };\n  }, [autoPlay, hlsConfig, playerRef, src]);\n  if (Hls.isSupported()) return React.createElement(\"video\", __assign({\n    ref: playerRef\n  }, props));\n  return React.createElement(\"video\", __assign({\n    ref: playerRef,\n    src: src,\n    autoPlay: autoPlay\n  }, props));\n}\n\nexport default ReactHlsPlayer;","map":{"version":3,"sources":["/mnt/c/Users/Eatme/Desktop/Company/early-web2/my-app/node_modules/react-hls-player/dist/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","useEffect","Hls","ReactHlsPlayer","_a","hlsConfig","_b","playerRef","createRef","src","autoPlay","props","hls","_initPlayer","destroy","newHls","enableWorker","current","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","play","catch","console","log","ERROR","event","data","fatal","type","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","isSupported","createElement","ref"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport React, { useEffect } from 'react';\r\nimport Hls from 'hls.js';\r\nfunction ReactHlsPlayer(_a) {\r\n    var hlsConfig = _a.hlsConfig, _b = _a.playerRef, playerRef = _b === void 0 ? React.createRef() : _b, src = _a.src, autoPlay = _a.autoPlay, props = __rest(_a, [\"hlsConfig\", \"playerRef\", \"src\", \"autoPlay\"]);\r\n    useEffect(function () {\r\n        var hls;\r\n        function _initPlayer() {\r\n            if (hls != null) {\r\n                hls.destroy();\r\n            }\r\n            var newHls = new Hls(__assign({ enableWorker: false }, hlsConfig));\r\n            if (playerRef.current != null) {\r\n                newHls.attachMedia(playerRef.current);\r\n            }\r\n            newHls.on(Hls.Events.MEDIA_ATTACHED, function () {\r\n                newHls.loadSource(src);\r\n                newHls.on(Hls.Events.MANIFEST_PARSED, function () {\r\n                    var _a;\r\n                    if (autoPlay) {\r\n                        (_a = playerRef === null || playerRef === void 0 ? void 0 : playerRef.current) === null || _a === void 0 ? void 0 : _a.play().catch(function () {\r\n                            return console.log('Unable to autoplay prior to user interaction with the dom.');\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n            newHls.on(Hls.Events.ERROR, function (event, data) {\r\n                if (data.fatal) {\r\n                    switch (data.type) {\r\n                        case Hls.ErrorTypes.NETWORK_ERROR:\r\n                            newHls.startLoad();\r\n                            break;\r\n                        case Hls.ErrorTypes.MEDIA_ERROR:\r\n                            newHls.recoverMediaError();\r\n                            break;\r\n                        default:\r\n                            _initPlayer();\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n            hls = newHls;\r\n        }\r\n        if (Hls.isSupported()) {\r\n            _initPlayer();\r\n        }\r\n        return function () {\r\n            if (hls != null) {\r\n                hls.destroy();\r\n            }\r\n        };\r\n    }, [autoPlay, hlsConfig, playerRef, src]);\r\n    if (Hls.isSupported())\r\n        return React.createElement(\"video\", __assign({ ref: playerRef }, props));\r\n    return React.createElement(\"video\", __assign({ ref: playerRef, src: src, autoPlay: autoPlay }, props));\r\n}\r\nexport default ReactHlsPlayer;\r\n"]},"metadata":{},"sourceType":"module"}